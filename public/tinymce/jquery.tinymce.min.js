!function(){var t,e,n,i,r=[];i=global||window;var a=function(){return i.tinymce};(n=i.jQuery).fn.tinymce=function(s){var o,l,u,f=this,p="";if(!f.length)return f;if(!s)return a()?a().get(f[0].id):null;f.css("visibility","hidden");var h=function(){var t=[],i=0;e||(c(),e=!0),f.each(function(e,n){var r,c=n.id,o=s.oninit;c||(n.id=c=a().DOM.uniqueId()),a().get(c)||(r=a().createEditor(c,s),t.push(r),r.on("init",function(){var e,n=o;f.css("visibility",""),o&&++i==t.length&&("string"==typeof n&&(e=-1===n.indexOf(".")?null:a().resolve(n.replace(/\.\w+$/,"")),n=a().resolve(n)),n.apply(e||a(),t))}))}),n.each(t,function(t,e){e.render()})};if(i.tinymce||t||!(o=s.script_url))1===t?r.push(h):h();else{t=1,l=o.substring(0,o.lastIndexOf("/")),-1!=o.indexOf(".min")&&(p=".min"),i.tinymce=i.tinyMCEPreInit||{base:l,suffix:p},-1!=o.indexOf("gzip")&&(u=s.language||"en",o=o+(/\?/.test(o)?"&":"?")+"js=true&core=true&suffix="+escape(p)+"&themes="+escape(s.theme||"modern")+"&plugins="+escape(s.plugins||"")+"&languages="+(u||""),i.tinyMCE_GZ||(i.tinyMCE_GZ={start:function(){var t=function(t){a().ScriptLoader.markDone(a().baseURI.toAbsolute(t))};t("langs/"+u+".js"),t("themes/"+s.theme+"/theme"+p+".js"),t("themes/"+s.theme+"/langs/"+u+".js"),n.each(s.plugins.split(","),function(e,n){n&&(t("plugins/"+n+"/plugin"+p+".js"),t("plugins/"+n+"/langs/"+u+".js"))})},end:function(){}}));var d=document.createElement("script");d.type="text/javascript",d.onload=d.onreadystatechange=function(e){e=e||window.event,2===t||"load"!=e.type&&!/complete|loaded/.test(d.readyState)||(a().dom.Event.domLoaded=1,t=2,s.script_loaded&&s.script_loaded(),h(),n.each(r,function(t,e){e()}))},d.src=o,document.body.appendChild(d)}return f},n.extend(n.expr[":"],{tinymce:function(t){var e;return!!(t.id&&"tinymce"in i&&(e=a().get(t.id))&&e.editorManager===a())}});var c=function(){var t=function(t){"remove"===t&&this.each(function(t,e){var n=r(e);n&&n.remove()}),this.find("span.mceEditor,div.mceEditor").each(function(t,e){var n=a().get(e.id.replace(/_parent$/,""));n&&n.remove()})},e=function(e){var n;if(null!=e)t.call(this),this.each(function(t,n){var i;(i=a().get(n.id))&&i.setContent(e)});else if(this.length>0&&(n=a().get(this[0].id)))return n.getContent()},r=function(t){var e=null;return t&&t.id&&i.tinymce&&(e=a().get(t.id)),e},c=function(t){return!!(t&&t.length&&i.tinymce&&t.is(":tinymce"))},s={};n.each(["text","html","val"],function(t,i){var a=s[i]=n.fn[i],o="text"===i;n.fn[i]=function(t){if(!c(this))return a.apply(this,arguments);if(void 0!==t)return e.call(this.filter(":tinymce"),t),a.apply(this.not(":tinymce"),arguments),this;var i="",s=arguments;return(o?this:this.eq(0)).each(function(t,e){var c=r(e);i+=c?o?c.getContent().replace(/<(?:"[^"]*"|'[^']*'|[^'">])*>/g,""):c.getContent({save:!0}):a.apply(n(e),s)}),i}}),n.each(["append","prepend"],function(t,e){var i=s[e]=n.fn[e],a="prepend"===e;n.fn[e]=function(t){return c(this)?void 0!==t?("string"==typeof t&&this.filter(":tinymce").each(function(e,n){var i=r(n);i&&i.setContent(a?t+i.getContent():i.getContent()+t)}),i.apply(this.not(":tinymce"),arguments),this):void 0:i.apply(this,arguments)}}),n.each(["remove","replaceWith","replaceAll","empty"],function(e,i){var r=s[i]=n.fn[i];n.fn[i]=function(){return t.call(this,i),r.apply(this,arguments)}}),s.attr=n.fn.attr,n.fn.attr=function(t,i){var a=arguments;if(!t||"value"!==t||!c(this))return s.attr.apply(this,a);if(void 0!==i)return e.call(this.filter(":tinymce"),i),s.attr.apply(this.not(":tinymce"),a),this;var o=this[0],l=r(o);return l?l.getContent({save:!0}):s.attr.apply(n(o),a)}}}();